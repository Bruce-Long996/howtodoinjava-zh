# Spring Boot Crud 操作示例与 Hibernate

> 原文： [https://howtodoinjava.com/spring-boot2/spring-boot-crud-hibernate/](https://howtodoinjava.com/spring-boot2/spring-boot-crud-hibernate/)

学习在 [**spring boot**](https://howtodoinjava.com/spring-boot-tutorials/) 应用程序中为**粗体操作**创建 api /方法，该应用程序使用 [**Hibernate**](https://howtodoinjava.com/hibernate-tutorials/) 修改数据库中的数据 ] / jpa 持久性 api。

## 1\. 概述

在此示例中，我们将创建原始操作并通过 [REST API](http://restfulapi.net/) 公开它们，以便 UI 客户端可以调用这些操作。 演示操作使客户端能够修改数据库中的员工记录。

该演示的目的是展示使这些交互成为可能的细节，而不涉及现实应用中涉及的业务逻辑的复杂性。

## 2\. Maven 依赖

在此示例中，我们使用 maven 在项目中添加运行时 jar。 如果您使用 gradle，请查找相关的依赖项。

`pom.xml`

[PRE0]

*   `spring-boot-starter-web`：用于使用 Spring MVC 构建 Web 层，包括 REST API 和应用程序。 使用 Tomcat 作为默认的嵌入式容器。
*   `spring-boot-starter-data-jpa`：它包括 spring 数据，hibernate，HikariCP， [JPA API](https://howtodoinjava.com/jpa-tutorials-and-examples/) ， **JPA 实现（默认为 Hibernate）**，JDBC 和其他必需的库。
*   `h2`：尽管我们可以使用`application.properties`文件中的数据源属性轻松添加任何数据库，但我们仍在使用 h2 数据库来减少不必要的复杂性。
*   `spring-boot-starter-test`：用于通过包含 [JUnit](https://howtodoinjava.com/junit-4/) ，Hamcrest 和 [Mockito](https://howtodoinjava.com/mockito/junit-mockito-example/) 的库来测试 Spring Boot 应用程序。

## 3\. Hibernate 配置

#### 3.1. 实体和存储库

使用数据库中数据的第一步是在 JPA 实体类中对其结构建模，并为其创建存储库接口。

尽可能扩展`JpaRepository`接口，以允许在运行时为任何给定的实体类自动创建存储库实现。 实体类别的类型及其 ID 字段在`JpaRepository`的通用参数中指定。

请记住，仅包含 JPA API 注解（`javax.persistence.*`）可使 Hibernate 与应用程序代码脱钩。

`EmployeeEntity.java`

[PRE1]

`EmployeeRepository.java`

[PRE2]

#### 3.2. 数据源配置

要连接到数据库，我们必须配置数据源。 我们正在使用 H2 数据库，因此将使用各自的属性。

另外，我们使用了几个其他属性来启用 [H2](https://howtodoinjava.com/spring-boot2/h2-database-example/) 控制台和大量日志记录。

`application.properties`

[PRE3]

## 4\. 服务（使用存储库）

服务层是可选的 – 仍然建议执行其他业务逻辑（如果有）。 通常，我们将在此处与存储库连接以进行原始操作。

`EmployeeService.java`

[PRE4]

## 5\. REST 控制器

最后，通过 MVC URL 或 REST 端点公开所有操作。 客户将与这些端点连接以获取/更新/删除员工记录。

请注意注解`@RestController`，`@RequestMapping`，[`@GetMapping`](https://howtodoinjava.com/spring5/webmvc/controller-getmapping-postmapping/)，`@PostMapping`和`@DeleteMapping`，它们将各种 URI 映射到控制器方法。

`EmployeeController.java`

[PRE5]

## 6\. Spring Boot Crud 操作演示

现在，完成编码部分后，启动 spring boot 应用程序。 它将与 H2 数据库控制台一起使用所有 URL 端点。

*   `HTTP GET http://localhost:8080/employees`

    `Console`

    [PRE6]

    `API Response`

    [PRE7]

*   `HTTP GET http://localhost:8080/employees/2`

    `Console`

    [PRE8]

    `API Response`

    [PRE9]

在有关**在具有 JPA Hibernate**来管理后端数据更新的 Spring Boot 应用程序中创建和公开 CRUD 操作的注解中，向您提问。

学习愉快！

[下载源码](https://howtodoinjava.com/wp-content/downloads/spring-boot-hibernate-crud-demo.zip)