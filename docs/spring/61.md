# SpringBoot – 发送带有附件的电子邮件

> 原文： [https://howtodoinjava.com/spring-boot2/send-email-with-attachment/](https://howtodoinjava.com/spring-boot2/send-email-with-attachment/)

了解如何借助[`JavaMailSender`](https://howtodoinjava.com/spring-core/send-email-with-spring-javamailsenderimpl-example/)在 spring boot 应用程序中发送电子邮件，以发送简单电子邮件以及带有附件的电子邮件。

## 1\. Maven

在 Spring Boot 应用程序中，包括`spring-boot-starter-mail`依赖项。

`pom.xml`

[PRE0]

## 2\. SMTP 配置

使用 spring boot，我们可以在`application.properties`文件中配置 SMTP 设置。

#### 2.1. 邮箱

`application.properties`

[PRE1]

> 为了能够使用两因素身份验证并关闭“允许不太安全的应用程序”选项，强烈建议使用应用程序密码代替 Gmail 密码。
> 
> 请参阅：[https://support.google.com/accounts/answer/185833](https://support.google.com/accounts/answer/185833)

如果您可以访问下面的 SMTP 服务器，请在下面自由使用。

#### 2.2. Outlook

如果它是某些公司服务器，请从管理员那里查找此信息。

`Outlook Configuration`

[PRE2]

#### 2.3. AWS SES

从您的 AWS 设置页面中找到相关配置。[阅读更多](https://docs.aws.amazon.com/ses/latest/DeveloperGuide/sending-email.html)。

`AWS SES Configuration`

[PRE3]

## 3\. 预先配置的电子邮件模板

我们可以创建电子邮件模板以供每次重用 – 我们必须定期或在任何特定事件或持续时间内发送电子邮件。 在给定的示例中，我们正在使用[`SimpleMailMessage`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/SimpleMailMessage.html)创建一个非常简单的纯文本电子邮件。

`EmailConfig.java`

[PRE4]

## 4\. 发送简单的电子邮件

为了发送不同类型的电子邮件，我们创建了一个`EmailService`类，该类可以采用在发送电子邮件之前在电子邮件中设置所需的参数。

`EmailService.java`

[PRE5]

## 5\. 发送带有附件的电子邮件

使用[`MimeMessageHelper`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/MimeMessageHelper.html)发送多媒体电子邮件，该电子邮件用于配置[`MimeMessage`](https://docs.oracle.com/javaee/7/api/javax/mail/internet/MimeMessage.html)。 这些 mime 消息是富文本电子邮件。

`Email with attachment`

[PRE6]

## 6\. 发送带有内嵌图像的电子邮件

富文本格式包括介于文本内容之间的媒体内容。 为此，我们必须使用`MimeMessageHelper`的`addInline()`方法。

`Email with inline images`

[PRE7]

## 7\. Spring Boot 发送电子邮件演示

要使用上述配置发送电子邮件，请更新`application.properties`文件中的`spring.mail.username`和`spring.mail.password`属性。

现在执行`EmailService`的方法发送电子邮件。

`Application.java`

[PRE8]

请给我发送有关**通过 SpringBoot**发送电子邮件的问题。

学习愉快！

[下载源码](https://github.com/lokeshgupta1981/SpringExamples/tree/master/email)